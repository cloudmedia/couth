class Submit{constructor(url){return this.otp=$.totp.getOTP(),this.url=$.apiURL+url,this.query={},this.message="",this.response=null,this.callback,this.query.API_KEY=$.apiKey,this.query.OTP=this.otp,!0}addData(fld,val){return void 0===fld&&(fld=""),void 0===val&&(val=""),fld.length<1?(this.message="NULL field name not allowed!",this.log(),!1):(this.query[fld]=val,!0)}submit(resType,callback){return this.callback=callback,void 0===resType&&(resType=null),$.ajax({url:this.url,method:"post",data:this.query,timeout:5e3,dataType:resType,success:$.proxy(this.process,this),error:$.proxy(this.error,this)}),!0}process(data,callback){callback=this.callback,this.response=data,callback(data)}error(data,callback){var res;(callback=this.callback)(res=debug?{status:0,message:data.responseText,field:"page-bottom"}:{status:0,message:"Failed to connect to server ["+server+"]!",field:"page-bottom"})}log(){return console.log("Submit.js: "+this.message),!0}}